"use strict";$(function(){function n(n){n.style.height="auto";n.style.height=n.scrollHeight+"px";var t=n.value.split(/\r\n|\r|\n/).length||1;n.rows=Math.max(t,1)}function t(n){var i=n.querySelector('input[type="submit"].cart-odeslat-objednavku, button[type="submit"].cart-odeslat-objednavku'),r,t;if(typeof n.requestSubmit=="function"){i?n.requestSubmit(i):n.requestSubmit();return}if(i){i.click();return}if(r=n.querySelector('button[type="submit"], input[type="submit"]'),r){r.click();return}t=document.createElement("button");t.type="submit";t.hidden=!0;n.appendChild(t);t.click();t.remove()}$("form.auto-submit").each(function(){$(this).find("input, select, textarea").on("change",function(){$(this).closest("form").submit()})});$("input.auto-submit, select.auto-submit, textarea.auto-submit").on("change",function(){$(this).closest("form").submit()});$(document).on("click",function(n){var t=$("#top-panel-dropdown"),i=$("#top-panel-dropdown-menu");t.is(n.target)||t.has(n.target).length?i.stop(!0,!0).slideToggle("fast"):i.stop(!0,!0).slideUp("fast")});$(document).on("click",".flash-close-btn",function(){$(this).parent().slideUp()});$("#search-product").autocomplete({source:function(n,t){var i=$("#search-product").closest("form");$.ajax({url:"/Mtz/Search?handler=AutoComplete",data:i.serialize(),type:"GET",success:function(n){t(n)},error:function(n){alert(n.statusText)}})},select:function(n,t){$("#search-product").val(t.item.value)},minLength:3});$("input[type='number']").each(function(){var n=$(this);n.inputSpinner({groupClass:"product-size"});n.removeAttr("style");n.attr("style","width: 0px; visibility: hidden; float: left; height: 0px;")});document.querySelectorAll("textarea.js-autogrow").forEach(n);document.addEventListener("input",function(t){t.target&&t.target.matches("textarea.js-autogrow")&&n(t.target)});document.addEventListener("compositionend",function(t){t.target&&t.target.matches("textarea.js-autogrow")&&n(t.target)});document.addEventListener("keydown",function(n){var i=n.target,r;if(i&&i.tagName==="TEXTAREA"&&i.classList.contains("js-autogrow")&&n.key==="Enter"){if(n.shiftKey)return;n.preventDefault();r=i.closest("form");r&&t(r)}})});